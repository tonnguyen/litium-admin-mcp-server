---
title: Testing
description: 'Test your Litium Admin MCP Server deployment'
---

## Testing Overview

Comprehensive testing ensures your MCP server works correctly with all clients and properly integrates with Litium.

## Quick Health Check

First, verify the server is running:

```bash
curl -I https://your-server.vercel.app/api/mcp
```

Expected response:
```
HTTP/2 200
content-type: application/json
```

## Testing with cURL

Test the MCP server using curl commands.

### List Available Tools

```bash
curl -X POST https://your-server.vercel.app/api/mcp \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -H "X-Litium-Base-Url: https://demoadmin.litium.com" \
  -H "X-Litium-Client-Id: your-client-id" \
  -H "X-Litium-Client-Secret: your-client-secret" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/list",
    "id": 1
  }'
```

### Test Get Websites Tool

```bash
curl -X POST https://your-server.vercel.app/api/mcp \
  -H "Content-Type: application/json" \
  -H "X-Litium-Base-Url: https://demoadmin.litium.com" \
  -H "X-Litium-Client-Id: your-client-id" \
  -H "X-Litium-Client-Secret: your-client-secret" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "get_websites",
      "arguments": {}
    },
    "id": 2
  }'
```

### Test Search Products

```bash
curl -X POST https://your-server.vercel.app/api/mcp \
  -H "Content-Type: application/json" \
  -H "X-Litium-Base-Url: https://demoadmin.litium.com" \
  -H "X-Litium-Client-Id: your-client-id" \
  -H "X-Litium-Client-Secret: your-client-secret" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "search_products",
      "arguments": {
        "search": "laptop",
        "take": 5
      }
    },
    "id": 3
  }'
```

## Testing with Postman

<Steps>
  <Step title="Create New Request">
    1. Open Postman
    2. Create a new POST request
    3. Set URL: `https://your-server.vercel.app/api/mcp`
  </Step>

  <Step title="Configure Headers">
    Add the following headers:
    - `Content-Type`: `application/json`
    - `Accept`: `application/json`
    - `X-Litium-Base-Url`: Your Litium instance URL
    - `X-Litium-Client-Id`: Your OAuth2 client ID
    - `X-Litium-Client-Secret`: Your OAuth2 client secret
  </Step>

  <Step title="Set Request Body">
    Select "raw" and "JSON", then add:
    ```json
    {
      "jsonrpc": "2.0",
      "method": "tools/list",
      "id": 1
    }
    ```
  </Step>

  <Step title="Send Request">
    Click "Send" and verify you receive a list of tools
  </Step>
</Steps>

### Postman Collection

Create a collection with all 28 tools for comprehensive testing:

```json postman-collection.json
{
  "info": {
    "name": "Litium Admin MCP Server",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "List Tools",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"},
          {"key": "X-Litium-Base-Url", "value": "{{litium_base_url}}"},
          {"key": "X-Litium-Client-Id", "value": "{{litium_client_id}}"},
          {"key": "X-Litium-Client-Secret", "value": "{{litium_client_secret}}"}
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"jsonrpc\":\"2.0\",\"method\":\"tools/list\",\"id\":1}"
        },
        "url": {
          "raw": "{{server_url}}/api/mcp",
          "host": ["{{server_url}}"],
          "path": ["api", "mcp"]
        }
      }
    }
  ]
}
```

## Testing with MCP Clients

### Test with Cursor

<Steps>
  <Step title="Configure Cursor">
    Add server configuration to `.cursor/mcp.json`
  </Step>

  <Step title="Restart Cursor">
    Restart Cursor to load the configuration
  </Step>

  <Step title="Test Commands">
    Open AI chat and try:
    - "List all websites in my Litium instance"
    - "Search for products containing 'laptop'"
    - "Show me all content blocks"
  </Step>

  <Step title="Verify Results">
    Ensure results are returned correctly and formatted properly
  </Step>
</Steps>

### Test with Claude Desktop

<Steps>
  <Step title="Configure Claude">
    Update `claude_desktop_config.json` with server details
  </Step>

  <Step title="Restart Claude Desktop">
    Quit and restart Claude Desktop
  </Step>

  <Step title="Test Tools">
    Start a conversation and ask Claude to use the tools
  </Step>

  <Step title="Check Logs">
    Review Claude Desktop logs if issues occur:
    ```bash
    # macOS
    tail -f ~/Library/Logs/Claude/mcp*.log
    ```
  </Step>
</Steps>

## Automated Testing

### Integration Tests

Create automated tests using Jest:

```javascript __tests__/mcp.test.js
describe('MCP Server', () => {
  const serverUrl = 'https://your-server.vercel.app/api/mcp';
  const headers = {
    'Content-Type': 'application/json',
    'X-Litium-Base-Url': process.env.LITIUM_BASE_URL,
    'X-Litium-Client-Id': process.env.LITIUM_CLIENT_ID,
    'X-Litium-Client-Secret': process.env.LITIUM_CLIENT_SECRET,
  };

  test('should list all tools', async () => {
    const response = await fetch(serverUrl, {
      method: 'POST',
      headers,
      body: JSON.stringify({
        jsonrpc: '2.0',
        method: 'tools/list',
        id: 1,
      }),
    });

    const data = await response.json();
    expect(data.result.tools).toHaveLength(28);
  });

  test('should call get_websites tool', async () => {
    const response = await fetch(serverUrl, {
      method: 'POST',
      headers,
      body: JSON.stringify({
        jsonrpc: '2.0',
        method: 'tools/call',
        params: {
          name: 'get_websites',
          arguments: {},
        },
        id: 2,
      }),
    });

    const data = await response.json();
    expect(data.result.content).toBeDefined();
  });
});
```

Run tests:
```bash
npm test
```

## Load Testing

Test server performance under load:

### Using Apache Bench

```bash
ab -n 1000 -c 10 -T 'application/json' \
  -H 'X-Litium-Base-Url: https://demoadmin.litium.com' \
  -H 'X-Litium-Client-Id: your-client-id' \
  -H 'X-Litium-Client-Secret: your-client-secret' \
  -p request.json \
  https://your-server.vercel.app/api/mcp
```

### Using k6

```javascript load-test.js
import http from 'k6/http';
import { check } from 'k6';

export let options = {
  vus: 10,
  duration: '30s',
};

export default function () {
  const url = 'https://your-server.vercel.app/api/mcp';
  const payload = JSON.stringify({
    jsonrpc: '2.0',
    method: 'tools/list',
    id: 1,
  });

  const params = {
    headers: {
      'Content-Type': 'application/json',
      'X-Litium-Base-Url': 'https://demoadmin.litium.com',
      'X-Litium-Client-Id': 'your-client-id',
      'X-Litium-Client-Secret': 'your-client-secret',
    },
  };

  const res = http.post(url, payload, params);
  check(res, {
    'status is 200': (r) => r.status === 200,
    'has tools': (r) => JSON.parse(r.body).result.tools.length === 28,
  });
}
```

Run:
```bash
k6 run load-test.js
```

## Test Checklist

<Check>**Server responds**: Health check returns 200</Check>
<Check>**Tools list**: All 28 tools are returned</Check>
<Check>**Authentication works**: OAuth2 credentials accepted</Check>
<Check>**Read tools work**: get_websites returns data</Check>
<Check>**Search tools work**: search_products finds results</Check>
<Check>**Error handling**: Invalid credentials return proper errors</Check>
<Check>**CORS enabled**: Cross-origin requests work</Check>
<Check>**Performance**: Response times are acceptable</Check>

## Common Test Scenarios

<AccordionGroup>
  <Accordion title="Test Invalid Credentials">
    Send request with wrong credentials:
    ```bash
    curl -X POST https://your-server.vercel.app/api/mcp \
      -H "Content-Type: application/json" \
      -H "X-Litium-Base-Url: https://demoadmin.litium.com" \
      -H "X-Litium-Client-Id: wrong-id" \
      -H "X-Litium-Client-Secret: wrong-secret" \
      -d '{"jsonrpc":"2.0","method":"tools/list","id":1}'
    ```
    
    Expected: Error message about invalid credentials
  </Accordion>

  <Accordion title="Test Missing Headers">
    Send request without authentication headers:
    ```bash
    curl -X POST https://your-server.vercel.app/api/mcp \
      -H "Content-Type: application/json" \
      -d '{"jsonrpc":"2.0","method":"tools/list","id":1}'
    ```
    
    Expected: Error about missing credentials
  </Accordion>

  <Accordion title="Test Tool with Invalid Parameters">
    Call tool with wrong parameter types:
    ```bash
    curl -X POST https://your-server.vercel.app/api/mcp \
      -H "Content-Type: application/json" \
      -H "X-Litium-Base-Url: https://demoadmin.litium.com" \
      -H "X-Litium-Client-Id: your-client-id" \
      -H "X-Litium-Client-Secret: your-client-secret" \
      -d '{
        "jsonrpc": "2.0",
        "method": "tools/call",
        "params": {
          "name": "get_block",
          "arguments": {}
        },
        "id": 3
      }'
    ```
    
    Expected: Error about missing required parameter
  </Accordion>
</AccordionGroup>

## Debugging

### Enable Verbose Logging

For local development:
```bash
DEBUG=* npm run dev
```

### Check Server Logs

<Tabs>
  <Tab title="Vercel">
    View logs at: https://vercel.com/dashboard → Your Project → Logs
  </Tab>

  <Tab title="Docker">
    ```bash
    docker logs -f container-name
    ```
  </Tab>

  <Tab title="PM2">
    ```bash
    pm2 logs litium-mcp
    ```
  </Tab>
</Tabs>

## Next Steps

<CardGroup cols={2}>
  <Card title="Troubleshooting" href="/guides/troubleshooting">
    Common issues and solutions
  </Card>
  <Card title="Deployment" href="/guides/deployment">
    Deploy to production
  </Card>
</CardGroup>

