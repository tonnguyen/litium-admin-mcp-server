---
title: "Security context"
description: "SecurityContextService is used to get and set information about the current user context."
---
SecurityContextService is used to get and set information about the current user context.

Check if the current user is logged in or not:

var currentUserIsLoggedIn = \_securityContextService.GetIdentityUserSystemId().HasValue;
if(currentUserIsLoggedIn)
{
    var personSystemId = \_securityContextService.GetIdentityUserSystemId();
    var currentlyLoggedInPerson = \_personService.Get(personSystemId.Value);
}

Litium will always execute code with the permissions of the currently logged in user. There may be situations when you need to change this behaviour, for example during integrations that will need to write information even though the code is executing withouth authentication:

// Temporarily elevate permissions
// The system user account can perform any update in the api
using (\_securityContextService.ActAsSystem("My custom integration task"))
{
    // Do stuff here that the current user cannot normally do
}
// Temporarily remove permissions (execute code as anonymous user even if logged in)
using (\_securityContextService.ActAsEveryone())
{
    // Do stuff here that the need to be done without custom permissions
}

`SecurityContextService` can also execute code as a specific person, this is safer than using _system_\-privileges since executing code as a user having only the required permissions will prevent unintended changes:

if (person != null && !string.IsNullOrEmpty(person.LoginCredential.Username))
{
    var claimsIdentity = \_securityContextService.CreateClaimsIdentity(
                    person.LoginCredential.Username, person.SystemId);
    using (\_securityContextService.ActAs(claimsIdentity))
    {
        // Do stuff here as any provided person
    }
}
