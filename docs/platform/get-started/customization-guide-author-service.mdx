---
title: "Author service"
description: "Create a custom service to retreive book titles for authors"
---
Create a custom service to retreive book titles for authors  
  

To do this task you first need to complete the task [Author page](/platform/get-started/customization-guide-author-page)

## Create and test the service

To retreive books by author you need a reusable service that you can inject and use in several places.

1.  Create the interface `Litium.Accelerator.Services.IAuthorService.` The interface should have one method:
    
    List<string> GetBooksByAuthor(Guid authorPageId)
    
    The parameter `authorPageId` will not be used in this task but is needed later in the [data service task](/platform/get-started/customization-guide-data-service).
    
2.  Register the interface as a service, see the page about [service registration](https://docs.litium.com/documentation/architecture/dependency-injection/service-registration) for details.
    
3.  Create the class `Litium.Accelerator.Services.AuthorServiceImpl` and make it implement your new `IAuthorService`\-interface
    
4.  Implement the `GetBooksByAuthor`\-method in `AuthorServiceImpl` so that it returns a hard-coded list of book titles
    

## Use the service to render books on the Author page

1.  Add a books-property in `AuthorViewModel`:
    
    public List<string> Books { get; set; }
    
2.  Add a constructor to `AuthorViewModelBuilder` and inject the `IAuthorService`\-interface. Use the injected interface instance to set the `Books`\-property of `AuthorViewModel`
    
3.  Add a listing of the books in the author page view (_Src\\Litium.Accelerator.Mvc\\Views\\Author\\Index.cshtml_), example:
    
    <h3>Popular books by @Model.Title</h3>
    <ul>
        @foreach (var book in Model.Books)
        {
            <li>@book</li>
        }
    </ul>
    

## Try it out

Build your solution and verify that your page is listing books from `AuthorServiceImpl`.

If you get stuck you can download completed sample files below:

- [AuthorViewModelBuilder.cs](https://github.com/LitiumAB/Education/blob/99ed050e4241dc15b1f7a5a74f154c880c61cb95/Developer%20Education/Tasks/Author%20service/Resources/AuthorViewModelBuilder.cs)
- [IAuthorService.cs](https://github.com/LitiumAB/Education/blob/99ed050e4241dc15b1f7a5a74f154c880c61cb95/Developer%20Education/Tasks/Author%20service/Resources/IAuthorService.cs)
- [AuthorServiceImpl.cs](https://github.com/LitiumAB/Education/blob/99ed050e4241dc15b1f7a5a74f154c880c61cb95/Developer%20Education/Tasks/Author%20service/Resources/AuthorServiceImpl.cs)

## Add service decorator

You have a requirement to add ratings to all books returned by the `AuthorService`. Instead of modifying the service this can be done using a service decorator.

1.  Create a new class: `Litium.Accelerator.Services.AuthorServiceRatingsDecorator` that implement the `IAuthorService` interface
    
2.  Register the class as a decorator for `IAuthorService` by adding the attribute below to the class:
    
    \[Litium.Runtime.DependencyInjection.ServiceDecorator(typeof(IAuthorService))\]
    
3.  Check out the [page about service decorator](https://docs.litium.com/documentation/architecture/dependency-injection/service-decorator) and see how to use the original class implementation as _\_parent_ in your decorator
    
    1.  Your decorator should append a rating to each book title, so _My book title_ becomes \*My book title (5/10)\_
    2.  Implement how the rating number is fetched in any way you like (random/calculation/hard code to 5 etc.)
    3.  [A finished example can be downloaded here](https://github.com/LitiumAB/Education/blob/99ed050e4241dc15b1f7a5a74f154c880c61cb95/Developer%20Education/Tasks/Author%20service%20decorator/Resources/AuthorServiceRatingsDecorator.cs)

## Try it out

1.  Build your solution and verify that your block is listing books from `AuthorServiceImpl` where each title now displays a rating for the book.

## Add automated tests

1.  Add the class `AuthorServiceRatingsDecoratorTests` to the test project
    
2.  Add a test that verifies that the decorator adds ratings to book titles according to the logic you implemented in the previous section.
    
3.  [A finished example can be downloaded here](https://github.com/LitiumAB/Education/blob/99ed050e4241dc15b1f7a5a74f154c880c61cb95/Developer%20Education/Tasks/Test%20project/Resources/AuthorServiceRatingsDecoratorTests.cs)
    

## Next step

[Customize pricing so that logged in users get article prices from an external source](/platform/get-started/customization-guide-price-calculator)
