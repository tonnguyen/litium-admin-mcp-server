---
title: "Events"
description: "In Litium all events are handled by Litium.Events.EventBroker. To create a custom event you implement the IMessage-interface, and if you need to pass data also inherit from EventArgs<>:"
---
In Litium all events are handled by `Litium.Events.EventBroker`. To create a custom event you implement the `IMessage`\-interface, and if you need to pass data also inherit from `EventArgs<>`:

public class MyEvent : EventArgs<Currency>, IMessage
{
    public MyEvent(Currency item) : base(item)
    {
    }
}

To publish (trigger) an event just constructor inject `EventBroker` and use the `Publish`\-method:

public class MyEventPublisher
{
    private readonly EventBroker \_eventBroker;

    public MyEventPublisher(EventBroker eventBroker)
    {
        \_eventBroker = eventBroker;
    }
    public void SendEvent()
    {
        \_eventBroker.Publish(new MyEvent(new Currency("SEK")));
    }
}

To listen to an event just register a subscription with the `EventBroker`. You can use [AutoStart](/platform/get-started/developer-introduction-jobs) to make sure that the registration is done every time Litium re-starts:

\[Autostart\]
public class MyEventSubscriber : IAsyncAutostart
{
    private readonly IApplicationLifetime \_applicationLifetime;
    private readonly EventBroker \_eventBroker;
    private readonly ISubscription<MyEvent> \_subscription;

    public MyEventSubscriber(EventBroker eventBroker, IApplicationLifetime applicationLifetime)
    {
        \_eventBroker = eventBroker;
        \_applicationLifetime = applicationLifetime;
    }

    public ValueTask StartAsync(CancellationToken cancellationToken)
    {
        var subscription = \_eventBroker.Subscribe<MyEvent>(ev =>
        {
            // This code will execute every time MyEvent is published
            var currency = ev.Item;
        });
        \_applicationLifetime.ApplicationStopping.Register(() =>
        {
            // Application is about to shutdown, unregister the event listener
            subscription.Dispose();
        });
        return ValueTask.CompletedTask;
    }
}

## Important notes on events

- In a load-balanced environment an event normally triggers only on the _current_ server. To also trigger subscriptions on remote servers you need to adjust `EventScope` when publishing the event. When using remote events Litium will use [service bus](/platform/architecture/service-bus) in the background to send the event.
    
- The event system is used by Litium to update cache and search index when data is modified. You may modify the application database directly (at own risk!), but if you do you need to manually clear cache and rebuild indexes for changes to take effect in the UI.
    
- Most events can be subscribed to from outside the Litium application using [webhooks](/platform/architecture/events-handling), you can use [Litium Swagger](/platform/architecture/web-api/swagger) to get a list of the events that support webhooks.
    

[Read more about event handling](/platform/architecture/events-handling)
