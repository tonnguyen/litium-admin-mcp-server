---
title: Deployment
description: 'Deploy the Litium Admin MCP Server to production'
---

## Deployment Options

The Litium Admin MCP Server can be deployed to various platforms. This guide covers the most common deployment scenarios.

## Vercel (Recommended)

Vercel provides the easiest and most reliable deployment option for Next.js applications.

<Steps>
  <Step title="Prepare Repository">
    Ensure your code is in a Git repository (GitHub, GitLab, or Bitbucket)
  </Step>

  <Step title="Connect to Vercel">
    **Option 1: Deploy Button**
    
    [![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/tonnguyen/litium-admin-mcp-server)
    
    **Option 2: Vercel CLI**
    ```bash
    npm install -g vercel
    vercel --prod
    ```
    
    **Option 3: Vercel Dashboard**
    1. Go to [vercel.com](https://vercel.com)
    2. Click "New Project"
    3. Import your repository
    4. Click "Deploy"
  </Step>

  <Step title="Configure (Optional)">
    No environment variables are required! The server uses header-based authentication.
  </Step>

  <Step title="Get Your URL">
    After deployment, copy your Vercel URL:
    ```
    https://your-project.vercel.app
    ```
    
    The MCP endpoint will be:
    ```
    https://your-project.vercel.app/api/mcp
    ```
  </Step>
</Steps>

### Vercel Configuration

The included `vercel.json` file configures:

```json
{
  "buildCommand": "next build",
  "framework": "nextjs",
  "headers": [
    {
      "source": "/api/mcp",
      "headers": [
        { "key": "Access-Control-Allow-Origin", "value": "*" },
        { "key": "Access-Control-Allow-Methods", "value": "GET, POST, DELETE, OPTIONS" },
        { "key": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization, X-Litium-Base-Url, X-Litium-Client-Id, X-Litium-Client-Secret" }
      ]
    }
  ]
}
```

## Docker Deployment

Deploy using Docker containers for maximum flexibility.

### Build Docker Image

```dockerfile Dockerfile
FROM node:18-alpine AS base

# Install dependencies
FROM base AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app

COPY package.json package-lock.json ./
RUN npm ci

# Build application
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

RUN npm run build

# Production image
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000

CMD ["node", "server.js"]
```

### Run with Docker

```bash
# Build the image
docker build -t litium-admin-mcp-server .

# Run the container
docker run -p 3000:3000 litium-admin-mcp-server
```

### Docker Compose

```yaml docker-compose.yml
version: '3.8'

services:
  mcp-server:
    build: .
    ports:
      - "3000:3000"
    restart: unless-stopped
    environment:
      - NODE_ENV=production
```

Run with:
```bash
docker-compose up -d
```

## AWS Lambda

Deploy to AWS Lambda using serverless framework.

<Steps>
  <Step title="Install Serverless">
    ```bash
    npm install -g serverless
    ```
  </Step>

  <Step title="Configure AWS Credentials">
    ```bash
    aws configure
    ```
  </Step>

  <Step title="Deploy">
    ```bash
    serverless deploy
    ```
  </Step>
</Steps>

## Google Cloud Run

Deploy as a containerized service on Google Cloud.

```bash
# Build and push to Google Container Registry
gcloud builds submit --tag gcr.io/PROJECT-ID/litium-mcp-server

# Deploy to Cloud Run
gcloud run deploy litium-mcp-server \
  --image gcr.io/PROJECT-ID/litium-mcp-server \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated
```

## Azure App Service

Deploy to Microsoft Azure using Azure CLI.

```bash
# Create resource group
az group create --name litium-mcp --location eastus

# Create app service plan
az appservice plan create --name litium-plan --resource-group litium-mcp --sku B1 --is-linux

# Create web app
az webapp create --resource-group litium-mcp --plan litium-plan --name litium-mcp-server --runtime "NODE|18-lts"

# Deploy from GitHub
az webapp deployment source config --name litium-mcp-server --resource-group litium-mcp --repo-url https://github.com/yourusername/litium-admin-mcp-server --branch main
```

## Custom VPS/Server

Deploy to your own server using PM2.

<Steps>
  <Step title="Install Dependencies">
    ```bash
    # On your server
    curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
    sudo apt-get install -y nodejs
    sudo npm install -g pm2
    ```
  </Step>

  <Step title="Clone and Install">
    ```bash
    git clone https://github.com/yourusername/litium-admin-mcp-server.git
    cd litium-admin-mcp-server
    npm install
    npm run build
    ```
  </Step>

  <Step title="Start with PM2">
    ```bash
    pm2 start npm --name "litium-mcp" -- start
    pm2 save
    pm2 startup
    ```
  </Step>

  <Step title="Configure Nginx (Optional)">
    ```nginx /etc/nginx/sites-available/litium-mcp
    server {
        listen 80;
        server_name your-domain.com;

        location / {
            proxy_pass http://localhost:3000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_cache_bypass $http_upgrade;
        }
    }
    ```
  </Step>
</Steps>

## Post-Deployment Checklist

After deploying, verify your setup:

<Check>**Test endpoint**: Verify `/api/mcp` is accessible</Check>
<Check>**Check CORS**: Ensure cross-origin requests work</Check>
<Check>**Test authentication**: Verify OAuth2 credentials work</Check>
<Check>**Monitor performance**: Set up monitoring and logging</Check>
<Check>**SSL certificate**: Ensure HTTPS is enabled</Check>

## Environment Variables

<Info>
  **No environment variables required!** The server uses header-based authentication, so no server-side configuration is needed for production.
</Info>

For development/testing only:
```bash .env.local
LITIUM_BASE_URL=https://demoadmin.litium.com
LITIUM_CLIENT_ID=test-client-id
LITIUM_CLIENT_SECRET=test-client-secret
```

## Monitoring and Logs

### Vercel
- View logs in [Vercel Dashboard](https://vercel.com/dashboard)
- Set up [Vercel Analytics](https://vercel.com/analytics)

### Docker
```bash
# View logs
docker logs -f container-name

# View with timestamps
docker logs -f --timestamps container-name
```

### PM2
```bash
# View logs
pm2 logs litium-mcp

# Monitor
pm2 monit
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Build fails on deployment">
    **Cause**: Missing dependencies or build errors
    
    **Solution**: Run `npm run build` locally first to identify issues
  </Accordion>

  <Accordion title="CORS errors">
    **Cause**: Missing or incorrect CORS headers
    
    **Solution**: Verify `vercel.json` or server configuration includes proper CORS headers
  </Accordion>

  <Accordion title="Cold start timeout">
    **Cause**: Serverless function cold starts
    
    **Solution**: Consider using Vercel Pro for faster cold starts or implement keep-alive pings
  </Accordion>

  <Accordion title="Authentication failures">
    **Cause**: Headers not passed correctly
    
    **Solution**: Verify MCP client configuration includes all required headers
  </Accordion>
</AccordionGroup>

## Scaling

### Vercel
- Automatically scales with traffic
- No configuration needed
- Pro plan offers better performance

### Docker/Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: litium-mcp-server
spec:
  replicas: 3
  selector:
    matchLabels:
      app: litium-mcp-server
  template:
    metadata:
      labels:
        app: litium-mcp-server
    spec:
      containers:
      - name: litium-mcp-server
        image: your-image:latest
        ports:
        - containerPort: 3000
```

## Security Best Practices

<CardGroup cols={2}>
  <Card title="Use HTTPS" icon="lock">
    Always deploy with SSL/TLS enabled
  </Card>
  <Card title="Rate Limiting" icon="gauge">
    Implement rate limiting for API calls
  </Card>
  <Card title="Monitor Access" icon="eye">
    Set up logging and monitoring
  </Card>
  <Card title="Keep Updated" icon="arrows-rotate">
    Regularly update dependencies
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Testing" href="/guides/testing">
    Learn how to test your deployment
  </Card>
  <Card title="Configuration" href="/getting-started/configuration">
    Configure MCP clients
  </Card>
</CardGroup>

